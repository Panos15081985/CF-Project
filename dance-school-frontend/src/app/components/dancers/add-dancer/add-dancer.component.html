<div class="container mt-5">
     <div class="card bg-light">
          <div class="card-header text-center" style="color: rgb(220, 53, 69);">
               <h2>Εγγραφή Χορευτή</h2>
          </div>
          <div class="card-body">
               <form [formGroup]="dancerForm" (ngSubmit)="onSubmit()">
                    <div class="row mb-3">
                         <div class="col-md-6">
                              <label for="firstname" class="form-label">Όνομα</label>
                              <input
                              id="firstname"
                              type="text"
                              formControlName="firstname"
                              class="form-control border-dark"
                              />
                              <div
                              *ngIf="dancerForm.get('firstname')?.touched && dancerForm.get('firstname')?.invalid"
                              class="text-danger"
                              >
                              Το όνομα είναι υποχρεωτικό.
                              </div>
                         </div>
                         <div class="col-md-6">
                              <label for="lastname" class="form-label">Επώνυμο</label>
                              <input
                              id="lastname"
                              type="text"
                              formControlName="lastname"
                              class="form-control border-dark"
                              />
                              <div
                              *ngIf="dancerForm.get('lastname')?.touched && dancerForm.get('lastname')?.invalid"
                              class="text-danger"
                              >
                              Το επώνυμο είναι υποχρεωτικό.
                              </div>
                         </div>
                    </div>
 
                    <div class="row mb-3">
                         <div class="col-md-6">
                              <label for="dateOfBirth" class="form-label">Ημερομηνία Γέννησης</label>
                              <input
                              id="dateOfBirth"
                              type="date"
                              class="form-control border-dark"
                              formControlName="dateOfBirth"
                              (change)="checkAge()"
                              />
                              <div *ngIf="dancerForm.get('dateOfBirth')?.touched && dancerForm.get('dateOfBirth')?.invalid" class="text-danger">
                              Η ημερομηνία γέννησης είναι υποχρεωτική.
                              </div>
                         </div>
                         <div class="col-md-6">
                              <label for="gender" class="form-label">Φύλο</label>
                              <select id="gender" class="form-select border-dark" formControlName="gender">
                                   <option value="">Επιλέξτε Φύλο</option>
                                   <option value="Male">Άνδρας</option>
                                   <option value="Female">Γυναίκα</option>
                                   <option value="Other">Αλλο</option>
                              </select>
                              <div *ngIf="dancerForm.get('gender')?.touched && dancerForm.get('gender')?.invalid" class="text-danger">
                                   Το φύλο είναι υποχρεωτικό.
                              </div>
                         </div>
                    </div>
 
                    <h5 class="text-center" style="color: rgb(220, 53, 69);">Στοιχεία Επικοινωνίας</h5>
 
                    <div formGroupName="contactDetailsInsertDTO">
 
                         <div class="row mb-3">
                              <div class="col-md-6">
                                   <label for="city" class="form-label">Πόλη</label>
                                   <input
                                   id="city"
                                   type="text"
                                   formControlName="city"
                                   class="form-control border-dark"
                                   />
                                   <div *ngIf="dancerForm.get('contactDetailsInsertDTO.city')?.touched && dancerForm.get('contactDetailsInsertDTO.city')?.invalid" class="text-danger">
                                   Η Πόλη είναι υποχρεωτικό.
                                   </div>
                              </div>
                              <div class="col-md-6">
                                   <label for="road_number" class="form-label">Αριθμός Οδού</label>
                                   <input
                                   id="road_number"
                                   type="text"
                                   formControlName="road_number"
                                   class="form-control border-dark"
                                   />
                              </div>
                         </div>
               
                         <div class="row mb-3">
                              <div class="col-md-6">
                                   <label for="road" class="form-label">Οδός</label>
                                   <input
                                   id="road"
                                   type="text"
                                   formControlName="road"
                                   class="form-control border-dark"
                                   />
                              </div>
                              <div class="col-md-6">
                                   <label for="postalCode" class="form-label">Ταχυδρομικός Κώδικας</label>
                                   <input
                                   id="postalCode"
                                   type="text"
                                   formControlName="postalCode"
                                   class="form-control border-dark"
                                   />
                              </div>
                         </div>
          
                         <div class="row mb-3">
                              <div class="col-md-6">
                                   <label for="email" class="form-label">Email</label>
                                   <input
                                   id="email"
                                   type="email"
                                   formControlName="email"
                                   class="form-control border-dark"
                                   />
                                   <div *ngIf="dancerForm.get('contactDetailsInsertDTO.email')?.touched && dancerForm.get('contactDetailsInsertDTO.email')?.invalid" class="text-danger">
                                             Εισάγετε ένα έγκυρο email.
                                   </div>
                              </div>
                              <div class="col-md-6">
                                   <label for="phoneNumber" class="form-label">Αριθμός Τηλεφώνου</label>
                                   <input
                                   id="phoneNumber"
                                   type="text"
                                   formControlName="phoneNumber"
                                   class="form-control border-dark"
                                   />
                                   <div *ngIf="dancerForm.get('contactDetailsInsertDTO.phoneNumber')?.touched && dancerForm.get('contactDetailsInsertDTO.phoneNumber')?.invalid" class="text-danger">
                                             Εισάγετε ένα έγκυρο τηλέφωνο (μόνο αριθμοί).
                                   </div>
                              </div>
                         </div>
                    </div>

                    <div *ngIf="isMinor">
                         <h5 class="text-center" style="color: rgb(220, 53, 69);">Στοιχεία Κηδεμόνα</h5>
 
                         <div formGroupName="guardianInsertDTO">
     
                              <div class="row mb-3">
                                   <div class="col-md-6">
                                        <label for="firstname" class="form-label">Όνομα</label>
                                        <input
                                        id="firstname"
                                        type="text"
                                        formControlName="firstname"
                                        class="form-control border-dark"
                                        />
                                        <div
                                        *ngIf="dancerForm.get('firstname')?.touched && dancerForm.get('firstname')?.invalid"
                                        class="text-danger"
                                        >
                                        Το όνομα είναι υποχρεωτικό.
                                        </div>
                                   </div>
                                   <div class="col-md-6">
                                        <label for="lastname" class="form-label">Επώνυμο</label>
                                        <input
                                        id="lastname"
                                        type="text"
                                        formControlName="lastname"
                                        class="form-control border-dark"
                                        />
                                        <div
                                        *ngIf="dancerForm.get('lastname')?.touched && dancerForm.get('lastname')?.invalid"
                                        class="text-danger"
                                        >
                                        Το επώνυμο είναι υποχρεωτικό.
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>
                    <div [formGroup]="dancerForm">
                         <label for="courses" class="form-label">Μαθήματα</label>
                         <div>Επιλεξτε ενα η περισοτερα μαθηματα απο την λιστα </div>
                         <select
                           id="courses"
                           class="form-select"
                           formControlName="courseIds" 
                           multiple  
                         >
                           <option *ngFor="let course of courses" [value]="course.id">
                             {{course.id}} {{course.name}} {{course.day}} {{course.startTime}} - {{course.endTime}}
                           </option>
                           
                         </select>
                       </div>
                       
                       <!-- Εμφάνιση των επιλεγμένων IDs -->
                       <div>
                         Επιλεγμένα Μαθήματα (IDs): {{ dancerForm.value.courseIds }}
                       </div>
 
                    <div class="text-center">
                         <button
                              type="submit"
                              class="btn"
                              [disabled]="dancerForm.invalid"
                              style="background-color: rgb(220, 53, 69); color: white;"
                         >
                              Υποβολή
                         </button>
                    </div>
               </form>
          </div>
     </div>
 </div>